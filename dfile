# Project
DEVNOTE PROJECT

---

### Name
DevNotes API – (Async FastAPI + PostgreSQL + Docker + DevOps CI/CD Pipeline)

---

### Purpose
Build a production-ready, fully asynchronous note-taking API service with a cloud-aligned DevOps automation ecosystem.  
The project blends backend engineering, infrastructure orchestration, CI/CD automation, observability, and deployment strategies to simulate real-world API development and operations.

---

### Objective
To establish an enterprise-grade backend foundation combined with a robust DevOps ecosystem.  
This includes:

- Modern async backend development  
- Dockerized infrastructure for reproducible environments  
- CI/CD automation via GitHub Actions  
- Multi-environment configuration switching  
- Logging, monitoring, and error visibility  
- Deployment readiness for Render, AWS, or similar platforms  

The purpose is not just functional API delivery, but full production lifecycle enablement.

---

### Key Deliverables

#### Backend Core
- Asynchronous FastAPI CRUD API.  
- SQLAlchemy 2.0 async ORM with asyncpg.  
- PostgreSQL 15 as the primary backing database.  
- Clean modularization:  
  - `models.py`  
  - `crud.py`  
  - `schemas.py`  
  - `notes.py`  
  - `db.py`  
  - `config.py`  
  - `main.py`

#### Environment System
- Central Pydantic Settings configuration with auto-environment detection:  
  - local  
  - github_ci  
  - render  
  - aws  
- Automatic DB URL selection per environment.  
- Safe `.env` loading with overrides and fallbacks.

#### Containerization
- Single Dockerfile optimized for dev + prod:  
  - Python 3.11 slim  
  - Minimal system deps  
  - Auto cleanup  
  - Supports uvicorn/gunicorn  
- `docker-compose.yaml` orchestrating:  
  - FastAPI  
  - PostgreSQL  
  - pgAdmin  
  - Persistent volumes  
  - Internal network  
  - Service healthchecks

#### Logging & Observability
- Multi-stream logging with rotation:  
  - audit  
  - error  
  - security  
  - system  
  - event  
  - admin  
  - access  
- Central logging hub ready for ELK/CloudWatch/Loki.

#### Real-Time Error Tracking
- Custom middleware capturing:  
  - failed requests  
  - exception types  
  - last error timestamp  
  - cumulative error count  
- `/stats` endpoint exposes metrics:  
  - latency  
  - environment  
  - uptime  
  - DB status  
  - Python version  
  - error counters  
- `/trigger-error` endpoint for CI/CD testing.

#### Admin Tools
- pgAdmin 4  
- Healthcheck endpoints  
- CLI-friendly curl/HTTPie tests

---

### DevOps Architecture

#### DevOps Foundations
The project is designed as a **DevOps-first architecture**, ensuring:

- Immutable containerized environment  
- Fully automated build/test/deploy pipeline  
- Environment-isolated configuration  
- Reproducible deployments  
- Built-in monitoring  
- “No manual steps” pipeline philosophy  

#### CI/CD Pipeline Strategy
All jobs run **independently** — no `needs:` or dependency chains.  
A final **summary job** aggregates success/failure for all jobs.

Planned GitHub Actions workflow includes:

##### Lint & Code Quality
- ruff / flake8  
- black (check mode)  
- mypy  

##### Unit & Integration Tests
- Start PostgreSQL via Docker inside CI  
- Run async FastAPI tests  
- Validate `/stats` and `/health`  
- Test DB connectivity  

##### API Connectivity Tests
- cURL/HTTPie real API tests  
- CRUD endpoint validation  
- Error simulation via `/trigger-error`

##### Security & Vulnerability Scanning
- Python deps scan (pip-audit, safety)  
- Docker image vulnerability scanning  

##### Docker Image Build & Publish
- Build production image  
- Tag with commit SHA  
- Push to GHCR or Docker Hub  

##### Automatic Cloud Deployment
- Trigger Render deploy hook  
- Validate deployment health  

##### Final Summary Job
- Collect job statuses  
- Write GitHub summary comment  
- Optional notification (email/Slack-style)  
- Store audit logs  

---

### DevOps Competencies Gained

| Category | Skills Demonstrated |
|---------|----------------------|
| CI/CD Automation | GitHub Actions orchestration, build/test/deploy pipelines |
| Container Lifecycle | Docker building, tagging, pushing |
| Security Automation | Dependency/image scanning |
| Monitoring | Metrics testing, healthchecks |
| Release Engineering | Automated deployment triggers |
| Infrastructure Discipline | Config isolation, reproducible builds |
| Pipeline Resilience | Independent jobs + final summary |

---

### Technical Competencies Acquired

- FastAPI async architecture  
- PostgreSQL async ORM  
- Pydantic multi-environment config  
- Rotating multi-channel logs  
- Monitoring middleware + `/stats`  
- Docker Compose multi-service orchestration  
- CI/CD pipeline practices  
- Render deployment flows  
- Automated API testing  

---

### Conceptual Understanding Gained

- **Environment Abstraction** — one config works everywhere  
- **Immutable Infrastructure** — same container locally & in cloud  
- **Monitoring Culture** — metrics-first mindset  
- **Automation Mindset** — pipelines are the source of truth  
- **Resilience** — independent jobs → full visibility  
- **End-to-End Thinking** — backend + infra + CI/CD + deploy = one system  

---

### Tech Stack

| Layer | Technologies |
|-------|--------------|
| Language | Python 3.11 |
| Framework | FastAPI (async) |
| ORM | SQLAlchemy Async + asyncpg |
| Database | PostgreSQL 15 |
| Infrastructure | Docker, Docker Compose |
| Admin Tool | pgAdmin |
| Configuration | Pydantic Settings |
| Logging | Python Logging + RotatingFileHandler |
| Monitoring | Custom Middleware + `/stats` |
| Server | Uvicorn / Gunicorn |
| Version Control | Git & GitHub |
| CI/CD | GitHub Actions |
| Deployment | Render |
| OS Environment | Linux (Debian base) |

---

